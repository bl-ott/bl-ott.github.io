---
layout: post
title: 计算机组成原理01：计算机是怎样跑起来的
---

<img src="../images/124901356_0_final.png" alt="124901356_0_final" style="zoom:33%;" />

>《计算机是怎样跑起来的》读书笔记

* TOC
{:toc}

### 计算机三大原则

- **原则1：计算机是个执行输入、计算、输出的机器**

​	计算机是由集成电路（以下简称IC）组成的，IC的引脚中部分用于输入部分用于输出

<img src="../images/image-20231202115040650.png" alt="image-20231202115040650" style="zoom:50%;" />



- **原则2：程序是指令和数据的集合**

​	无论程序多么高深、多么复杂，其内容也都是指令和数据

​	指令，就是控制计算机进行输入、运算、输出的命令

​	程序，就是把向计算机发出的指令一条条列出来

- **原则3：计算机的处理方式有时和人们的思维习惯不同**

​	计算机中什么都是数字

​	比如，用“0,0,255”表示蓝色，用“255,0,0”表示红色，用“255,0,255”表示由蓝色和红色混合而成的紫色

### 计算机不断进步接近人类

​	编程方法也在进化，进化的成果是诞生了两种编程方法，面向组件编程（Component Based Programming）和面向对象编程（Object Oriented Programming）。这两者的进化目标一致，都是使程序员可以在编程中继续沿用人类创造事物时的方法。面向组件编程的方法是通过将组件（程序的零件）组装到一起完成程序；面向对象编程的方法是先如实地对现实世界的业务建模，之后再把模型搬到程序中。使用符合人类思维习惯的编程方法，可以实现高效率的开发。

​	也许计算机进化的最终形态就是机器人了，有着与人类一样的外表，可以使用人类的语言。

​	基于上述原因，有人把SQL成为第四代编程语言（第一代二进制语言，第二代汇编语言，第三代高级语言），因为SQL中的语言(e.g.select * from table where id=1;)已经很接近人类语言了

### 用IC制造一台微机

微机集成电路图：

![高清电路图](../images/%E9%AB%98%E6%B8%85%E7%94%B5%E8%B7%AF%E5%9B%BE.jpeg)

- 主要元件列表
  1. Z80 CPU
  
  2. TC5517：内存
  
  3. Z80PIO：I/O
  
  4. 时钟发生器：产生时钟信号
  
  5. 指拨开关：设定内存地址
  
  6. 按动开关：写入内存
  
  7. 快动开关：输入I/O设备
  
  8. LED：输出I/O设备
  
     

- **时间发生器**

时间发生器的震荡频率，可以衡量CPU的运转速度，我们称之为CPU的主频

> 程序的 CPU 执行时间 =CPU 时钟周期数×时钟周期时间

如2.8GHz 的 CPU 上，时钟周期时间就是 1/2.8G

提升CPU的主频（超频），可以使CPU运转的更快，同时散热压力也更大。



- Z80CPU 引脚
  1. **A0-A15**（A表示Address）：地址总线引脚，用于传输 16 位的地址信息。
  2. **D0-D7**（D表示Data）：数据总线引脚，用于传输 8 位的数据。
  3. **IORQ：** 输入/输出请求，指示对 I/O 端口的读写操作。
  4. **MREQ：** 存储器请求，指示对存储器的读写操作。
  5. **RD：** 读取操作的时钟信号。
  6. **WR：** 写入操作的时钟信号。
  7. **HALT：** 暂停 CPU 操作。
  8. **WAIT：** 等待状态，指示外部设备需要额外的时钟周期。
  9. **BUSRQ：** 总线请求，用于外部设备请求对总线的控制权。
  10. **BUSACK：** 总线确认，用于向外部设备发送总线控制权。



- TC5517引脚

  1. **A0-A8：** 地址总线引脚，用于传输 9 位地址信息。

  2. **OE：** 输出使能引脚，用于启用输出。

  3. **WE：** 写入使能引脚，用于启用写入操作。

  4. **CS1, CS2：** 芯片选择引脚，用于选择芯片。

     

- Z80PIO引脚
  
  1. **A0-A7：** 地址总线引脚，用于选择 PIO 寄存器。
  
  2. **D0-D7：** 数据总线引脚，用于传输 8 位的数据。
  
  3. **IORQ：** 输入/输出请求引脚，指示对 I/O 端口的读写操作。
  
  4. **RD：** 读取操作的时钟信号。
  
  5. **WR：** 写入操作的时钟信号。
  
  6. **CS1, CS2：** 芯片选择引脚，用于选择 PIO 芯片。
  
  7. **INT：** 中断引脚，用于指示 PIO 中断请求。
  
  8. **READY：** 就绪引脚，用于指示 PIO 是否准备好执行下一个操作。
  
  9. **RESET：** 复位引脚，用于将 PIO 复位到初始状态。
  
     
  
- 连线组装微机





### 手工汇编

<img src="../images/image-20231202220156570.png" alt="image-20231202220156570" style="zoom:50%;" />

### 瀑布模型

<img src="../images/image-20231202105801660.png" alt="image-20231202105801660" style="zoom:50%;" />

这种开发过程之所以被称为“瀑布模型”，是因为**开发流程宛如瀑布，一级一级地自上而下流动，永不后退**



- 外部设计：用户看的到的部分的设计
- 内部设计：开发者看得到，用户看不到的部分的设计
- 程序设计：技术方案设计
- 编码实现：**经过充分的程序设计，编码是一项十分简单的工作**
- 测试：需要定量地标示出测试的结果，不能只记录含糊的结果如"已测试"、"已通过"
  - 涂色检查
  - 覆盖率测试
- 部署维护：产出部署手册和维护手册

### 设计即拆解

从需求分析到程序设计，所进行的工作都是拆解业务，把将要为计算机系统所替代的手工业务拆解为细小的要素。

从编码实现到部署、维护阶段，所进行的工作则是集成，把拆解后的细小要素转换成程序的模块，再把这些模块拼装在一起构成计算机系统。

<img src="../images/image-20231202110930378.png" alt="image-20231202110930378" style="zoom:50%;" />
